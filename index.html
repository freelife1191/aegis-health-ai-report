<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aegis Health AI: ëŒ€í™”í˜• ë³´ê³ ì„œ (HTML ë‹¤ì´ì–´ê·¸ë¨ ì ìš©)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Health Tech -->
    <!-- Application Structure Plan: A single-page, scrollable application with a sticky top navigation for easy access to key sections. The structure is designed to tell a story: starting with the vision (Why), moving to the product details (What), then diving deep into the technical architecture (How), and finishing with governance (Responsibility). The centerpiece is an interactive MLOps phase explorer, allowing users to click through the Local, Dev, Stage, and Prod phases to see detailed information, architecture diagrams, and code, making the complex evolution of the system easy to understand. -->
    <!-- Visualization & Content Choices: 
        - Project Overview: Text and key value propositions presented in clean cards.
        - User Persona: Card-based layout for easy reading.
        - MVP Features: An interactive tab/toggle system to switch between Frontend and Backend specifications. This now includes a LIVE Gemini-powered chat demo for the frontend, allowing users to ask a question and receive an evidence-based answer, followed by a personalized action plan. Goal: Demonstrate core functionality. Method: HTML/JS Toggle + Gemini API fetch. Justification: Makes the product vision tangible and interactive.
        - MLOps Phases: An interactive diagram built with HTML/CSS and JS. Users click phase buttons to update a central panel displaying the architecture diagram (image), goals, tech stack, and code snippets. The diagrams are now rendered directly with HTML/CSS, removing external dependencies. Goal: Explain complex, phased architecture. Method: Interactive HTML/JS component. Justification: Makes the system's evolution the central, explorable story of the application.
        - Cost/Complexity Chart: A Bar Chart (Chart.js) to provide a quick quantitative comparison of the MLOps phases. Goal: Compare. Method: Chart.js Bar Chart. Justification: Adds a data-driven visual element to complement the qualitative descriptions.
        - Governance: Accordion-style sections for a clean layout.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f9fa;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 40vh;
            max-height: 400px;
        }
        .nav-link {
            transition: all 0.3s;
        }
        .nav-link.active {
            color: #14b8a6;
            transform: scale(1.1);
        }
        .phase-button {
            transition: all 0.3s;
        }
        .phase-button.active {
            background-color: #0d9488;
            color: white;
            transform: translateY(-4px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .content-card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .chat-bubble {
            max-width: 75%;
            padding: 10px 15px;
            border-radius: 1.25rem;
        }
        .user-bubble {
            background-color: #0d9488;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 0.25rem;
        }
        .ai-bubble {
            background-color: #e2e8f0;
            color: #1e293b;
            align-self: flex-start;
            border-bottom-left-radius: 0.25rem;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #0d9488;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Diagram Styles */
        .flow-arrow {
            font-size: 1.5rem;
            line-height: 2rem;
            color: #4a5568;
        }
        .component {
            border: 2px solid #e2e8f0;
            background-color: #f7fafc;
            border-radius: 0.5rem;
            padding: 0.5rem 1rem;
            text-align: center;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .sub-system {
            border: 2px dashed #a0aec0;
            background-color: #ffffff;
            border-radius: 0.75rem;
            padding: 1rem;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <nav id="navbar" class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-md transition-all duration-300">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-2">
                    <span class="text-2xl font-bold text-teal-600">ğŸ›¡ï¸</span>
                    <span class="text-xl font-bold text-slate-700">Aegis Health AI</span>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#vision" class="nav-link text-slate-600 hover:text-teal-600 font-medium">ë¹„ì „</a>
                    <a href="#product" class="nav-link text-slate-600 hover:text-teal-600 font-medium">ì œí’ˆ ëª…ì„¸</a>
                    <a href="#architecture" class="nav-link text-slate-600 hover:text-teal-600 font-medium">ì•„í‚¤í…ì²˜</a>
                    <a href="#governance" class="nav-link text-slate-600 hover:text-teal-600 font-medium">ê±°ë²„ë„ŒìŠ¤</a>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-slate-700 focus:outline-none">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#vision" class="block py-2 px-4 text-sm text-slate-600 hover:bg-teal-50">ë¹„ì „</a>
            <a href="#product" class="block py-2 px-4 text-sm text-slate-600 hover:bg-teal-50">ì œí’ˆ ëª…ì„¸</a>
            <a href="#architecture" class="block py-2 px-4 text-sm text-slate-600 hover:bg-teal-50">ì•„í‚¤í…ì²˜</a>
            <a href="#governance" class="block py-2 px-4 text-sm text-slate-600 hover:bg-teal-50">ê±°ë²„ë„ŒìŠ¤</a>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="vision" class="min-h-screen flex flex-col justify-center items-center text-center py-20">
            <div class="max-w-4xl mx-auto">
                <h1 class="text-4xl md:text-6xl font-bold text-slate-800 mb-4">Aegis Health AI</h1>
                <p class="text-xl md:text-2xl text-slate-600 mb-8">ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë‹¹ì‹ ì˜ ê°œì¸ ë§ì¶¤í˜• ê±´ê°• ì½”íŒŒì¼ëŸ¿</p>
                <div class="w-full p-8 bg-white rounded-xl shadow-lg">
                     <p class="text-lg text-slate-700 leading-relaxed text-left">
                        Aegis Health AIëŠ” íŒŒí¸í™”ëœ ê±´ê°• ì •ë³´ ì‹œì¥ì— ìƒˆë¡œìš´ ê¸°ì¤€ì„ ì œì‹œí•©ë‹ˆë‹¤. ì €í¬ëŠ” ê³¼í•™ì  ì¦ê±°ì— ê¸°ë°˜í•œ ë‹µë³€ê³¼ ëª…í™•í•œ ì¶œì²˜ë¥¼ ì œê³µí•˜ì—¬ ì‚¬ìš©ìê°€ ìì‹ ì˜ ê±´ê°•ì— ëŒ€í•´ ì •ë³´ì— ì…ê°í•œ ê²°ì •ì„ ë‚´ë¦´ ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤. MVPì˜ í•µì‹¬ì€ ê²€ì¦ëœ í•™ìˆ  ì—°êµ¬ ê²°ê³¼ë¥¼ ê²€ìƒ‰í•˜ê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ **Gemini AI**ê°€ ìƒì„±í•œ ë‹µë³€ê³¼ **ê²€ì¦ ê°€ëŠ¥í•œ ì¶œì²˜(verifiable source)**ë¥¼ í•¨ê»˜ ì œê³µí•˜ì—¬ ì •ë³´ì˜ ì‹ ë¢°ì„±ì„ ê·¹ëŒ€í™”í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
                    </p>
                </div>
                <div class="mt-10 grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="content-card p-6">
                        <h3 class="text-xl font-bold mb-2">ì‚¬ìš©ì í˜ë¥´ì†Œë‚˜: ê¹€í˜„ìš° (35ì„¸)</h3>
                        <p class="text-slate-600 text-left">ê±´ê°•ì— ê´€ì‹¬ì´ ë§ì§€ë§Œ, ë„˜ì³ë‚˜ëŠ” ê´‘ê³ ì„±, ë¹„ê²€ì¦ ì •ë³´ì— ì§€ì³ìˆìŠµë‹ˆë‹¤. "ë‚´ê°€ ë¨¹ëŠ” í¬ë ˆì•„í‹´ì´ ì •ë§ íš¨ê³¼ê°€ ìˆëŠ”ì§€, ë¶€ì‘ìš©ì€ ì—†ëŠ”ì§€ ê³¼í•™ì ì¸ ê·¼ê±°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì•Œê³  ì‹¶ë‹¤"ëŠ” ëª…í™•í•œ ë‹ˆì¦ˆë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.</p>
                    </div>
                    <div class="content-card p-6">
                        <h3 class="text-xl font-bold mb-2">í•µì‹¬ ì‚¬ìš©ì ìŠ¤í† ë¦¬</h3>
                        <ul class="text-slate-600 text-left list-disc list-inside space-y-2">
                            <li>ìì—°ì–´ ì§ˆë¬¸ìœ¼ë¡œ ì‹ ë¢°ì„± ìˆëŠ” ê±´ê°• ì •ë³´ë¥¼ ì–»ê³  ì‹¶ë‹¤.</li>
                            <li>ë³µì¡í•œ ë…¼ë¬¸ì„ ì§ì ‘ ì½ì§€ ì•Šê³  í•µì‹¬ ê²°ê³¼ë¥¼ ìš”ì•½ ë°›ê³  ì‹¶ë‹¤.</li>
                            <li>AI ë‹µë³€ì˜ ê·¼ê±°ê°€ ëœ ì‹¤ì œ ì—°êµ¬ ì¶œì²˜ë¥¼ í™•ì¸í•˜ê³  ì‹¶ë‹¤.</li>
                            <li>âœ¨ AI ë‹µë³€ì„ ë°”íƒ•ìœ¼ë¡œ ê°œì¸ ë§ì¶¤í˜• ì‹¤ì²œ ê³„íšì„ ì–»ê³  ì‹¶ë‹¤.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="product" class="py-20">
            <h2 class="text-3xl font-bold text-center mb-12">MVP ì œí’ˆ ëª…ì„¸ (Live Demo)</h2>
            <div class="max-w-5xl mx-auto p-8 content-card">
                <p class="text-lg text-slate-600 mb-8 text-center">MVPëŠ” ì„œë¹„ìŠ¤ì˜ í•µì‹¬ ê°€ì¹˜ì¸ 'ì¦ê±° ê¸°ë°˜ Q&A'ë¥¼ ì§ê´€ì ìœ¼ë¡œ ê²½í—˜í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ë˜ ëŒ€í™”í˜• ë°ëª¨ì—ì„œ ì§ì ‘ ì§ˆë¬¸í•˜ì—¬ Gemini AIì˜ ë‹µë³€ê³¼ ê°œì¸ ë§ì¶¤í˜• ì œì•ˆ ê¸°ëŠ¥ì„ ì²´í—˜í•´ ë³´ì„¸ìš”.</p>
                <div class="flex justify-center mb-8">
                    <div class="flex space-x-1 bg-slate-200 p-1 rounded-full">
                        <button id="btn-frontend" class="px-4 py-2 text-sm font-medium rounded-full bg-white text-teal-600 shadow">ë¼ì´ë¸Œ ë°ëª¨</button>
                        <button id="btn-backend" class="px-4 py-2 text-sm font-medium rounded-full text-slate-600">ë°±ì—”ë“œ ëª…ì„¸</button>
                    </div>
                </div>

                <div id="content-frontend">
                    <h3 class="text-2xl font-bold mb-4">ë©”ì¸ Q&A ëŒ€ì‹œë³´ë“œ (Gemini AI ì—°ë™)</h3>
                    <div class="bg-slate-100 rounded-lg p-4">
                        <div id="chat-window" class="h-80 overflow-y-auto mb-4 p-2 flex flex-col space-y-4">
                            <div class="chat-bubble ai-bubble">
                                <p>ì•ˆë…•í•˜ì„¸ìš”! Aegis Health AIì…ë‹ˆë‹¤. ê±´ê°•ì— ëŒ€í•´ ê¶ê¸ˆí•œ ì ì„ ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”. ì˜ˆ: "í¬ë ˆì•„í‹´ì˜ íš¨ëŠ¥ê³¼ ë¶€ì‘ìš©ì€ ë¬´ì—‡ì¸ê°€ìš”?"</p>
                            </div>
                        </div>
                        <div id="loader-container" class="flex justify-center items-center h-12 hidden">
                            <div class="loader"></div>
                        </div>
                        <form id="chat-form" class="flex items-center space-x-2">
                            <input type="text" id="chat-input" class="flex-grow p-3 border rounded-full focus:ring-2 focus:ring-teal-500 focus:outline-none" placeholder="ì—¬ê¸°ì— ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”...">
                            <button type="submit" class="bg-teal-500 hover:bg-teal-600 text-white font-bold p-3 rounded-full transition duration-300 flex items-center justify-center">
                                <span class="text-xl">âœ¨</span>
                            </button>
                        </form>
                         <div id="action-plan-container" class="mt-4"></div>
                    </div>
                </div>

                <div id="content-backend" class="hidden">
                     <h3 class="text-2xl font-bold mb-4">ë°±ì—”ë“œ (FastAPI)</h3>
                     <p class="text-slate-600 mb-6">í”„ë¡ íŠ¸ì—”ë“œì˜ ìš”ì²­ ì²˜ë¦¬, ì™¸ë¶€ API ì—°ë™, RAG íŒŒì´í”„ë¼ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.</p>
                     <div class="space-y-6">
                        <div>
                            <h4 class="text-xl font-semibold mb-2">API ì—”ë“œí¬ì¸íŠ¸</h4>
                            <div class="bg-slate-100 p-4 rounded-lg font-mono text-sm overflow-x-auto">
                                <p><strong class="text-teal-600">POST</strong> /api/v1/query &nbsp;&nbsp;&nbsp; (RAG íŒŒì´í”„ë¼ì¸ ì‹¤í–‰)</p>
                                <p><strong class="text-teal-600">POST</strong> /api/v1/action-plan &nbsp;&nbsp;&nbsp; (âœ¨ ê°œì¸ ë§ì¶¤í˜• ì‹¤ì²œ ê³„íš ìƒì„±)</p>
                            </div>
                        </div>
                        <div>
                             <h4 class="text-xl font-semibold mb-2">RAG íŒŒì´í”„ë¼ì¸ ì•Œê³ ë¦¬ì¦˜</h4>
                             <ol class="list-decimal list-inside text-slate-600 space-y-1">
                                 <li>ì‚¬ìš©ì ì§ˆë¬¸(`query_text`) ìˆ˜ì‹ </li>
                                 <li>`Consensus.app` APIë¡œ ê´€ë ¨ ë…¼ë¬¸ ê²€ìƒ‰ (Retrieve)</li>
                                 <li>ê²€ìƒ‰ëœ ë…¼ë¬¸ ì´ˆë¡ê³¼ ì§ˆë¬¸ìœ¼ë¡œ í”„ë¡¬í”„íŠ¸ êµ¬ì„± (Augment)</li>
                                 <li>êµ¬ì„±ëœ í”„ë¡¬í”„íŠ¸ë¥¼ **Gemini API**ë¡œ ì „ì†¡ (Generate)</li>
                                 <li>LLM ë‹µë³€ê³¼ ë…¼ë¬¸ ì¶œì²˜ë¥¼ ì¡°í•©í•˜ì—¬ ìµœì¢… ì‘ë‹µ ìƒì„±</li>
                             </ol>
                        </div>
                         <div>
                            <h4 class="text-xl font-semibold mb-2">ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ</h4>
                            <div class="grid md:grid-cols-2 gap-4">
                               <div class="bg-slate-100 p-4 rounded-lg font-mono text-sm">
                                   <p class="font-bold">PostgreSQL: `users` í…Œì´ë¸”</p>
                                   <p>id (UUID)</p>
                                   <p>gender (VARCHAR)</p>
                                   <p>age (INTEGER)</p>
                                   <p>created_at (TIMESTAMPTZ)</p>
                               </div>
                                <div class="bg-slate-100 p-4 rounded-lg font-mono text-sm">
                                   <p class="font-bold">ChromaDB: `aegis_papers` ì»¬ë ‰ì…˜</p>
                                   <p>Embedding Vector</p>
                                   <p>Metadata (title, authors, year)</p>
                               </div>
                            </div>
                         </div>
                     </div>
                </div>
            </div>
        </section>


        <section id="architecture" class="py-20">
            <h2 class="text-3xl font-bold text-center mb-4">MLOps ì•„í‚¤í…ì²˜ ì²­ì‚¬ì§„</h2>
            <p class="max-w-3xl mx-auto text-center text-slate-600 mb-12">Aegis Health AIì˜ ì‹œìŠ¤í…œì€ ë¡œì»¬ ê°œë°œ í™˜ê²½ì—ì„œ ì‹œì‘í•˜ì—¬ ìµœì¢… í”„ë¡œë•ì…˜ê¹Œì§€ 4ë‹¨ê³„ì— ê±¸ì³ ì ì§„ì ìœ¼ë¡œ ì§„í™”í•©ë‹ˆë‹¤. ê° ë‹¨ê³„ë¥¼ í´ë¦­í•˜ì—¬ ìƒì„¸í•œ ì•„í‚¤í…ì²˜ì™€ ê¸°ìˆ  ìŠ¤íƒì„ í™•ì¸í•´ ë³´ì„¸ìš”.</p>

            <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
                <button data-phase="1" class="phase-button active bg-teal-500 text-white px-4 py-2 rounded-full font-semibold shadow-md">Phase 1: Local</button>
                <button data-phase="2" class="phase-button bg-white px-4 py-2 rounded-full font-semibold shadow-md">Phase 2: Dev</button>
                <button data-phase="3" class="phase-button bg-white px-4 py-2 rounded-full font-semibold shadow-md">Phase 3: Stage</button>
                <button data-phase="4" class="phase-button bg-white px-4 py-2 rounded-full font-semibold shadow-md">Phase 4: Prod</button>
            </div>
            
            <div id="phase-details" class="content-card p-6 md:p-8 min-h-[500px] transition-all duration-500">
            </div>

            <div class="mt-16">
                 <h3 class="text-2xl font-bold text-center mb-6">ë‹¨ê³„ë³„ ë¹„ìš© ë° ë³µì¡ë„ ë¹„êµ</h3>
                 <div class="chart-container">
                     <canvas id="complexityChart"></canvas>
                 </div>
            </div>
        </section>

        <section id="governance" class="py-20">
             <h2 class="text-3xl font-bold text-center mb-12">ê±°ë²„ë„ŒìŠ¤, ìœ„í—˜ ë° ê·œì • ì¤€ìˆ˜ (GRC)</h2>
            <div class="max-w-4xl mx-auto space-y-4">
                <p class="text-lg text-slate-600 mb-8 text-center">
                    ì‹¤ì œ í—¬ìŠ¤ì¼€ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê¸°ìˆ ì  ìš°ìˆ˜ì„±ì„ ë„˜ì–´ ìœ¤ë¦¬ì , ê·œì œì  ì±…ì„ì„ ë‹¤í•´ì•¼ í•©ë‹ˆë‹¤. Aegis Health AIëŠ” ì„¤ê³„ ë‹¨ê³„ë¶€í„° ì‹ ë¢°ì„±, ê³µì •ì„±, ë³´ì•ˆì„ í•µì‹¬ ë¹„ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ê³ ë ¤í•©ë‹ˆë‹¤.
                </p>
                <div class="content-card">
                    <button class="w-full text-left p-4 font-bold text-lg flex justify-between items-center accordion-toggle">
                        <span>ì‹ ë¢°ì„± (Hallucination ì™„í™”)</span>
                        <span class="transform transition-transform duration-300">â–¼</span>
                    </button>
                    <div class="accordion-content hidden p-4 pt-0">
                        <p class="text-slate-600">ëª¨ë“  ë‹µë³€ì€ RAGë¥¼ í†µí•´ `Consensus.app`ì˜ ê²€ìƒ‰ ê²°ê³¼ì— ê¸°ë°˜í•´ì•¼ í•©ë‹ˆë‹¤. ë˜í•œ, ê²€ìƒ‰ëœ ì»¨í…ìŠ¤íŠ¸ì™€ ì§ˆë¬¸ì˜ ê´€ë ¨ì„±ì„ í‰ê°€í•˜ì—¬ ì‹ ë¢°ë„ê°€ ë‚®ì€ ê²½ìš° "ì‹ ë¢°ë„ ë†’ì€ ë‹µë³€ì„ ì œê³µí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤"ì™€ ê°™ì€ ì•ˆì „í•œ ì‘ë‹µì„ ë°˜í™˜í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ êµ¬í˜„í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>
                 <div class="content-card">
                    <button class="w-full text-left p-4 font-bold text-lg flex justify-between items-center accordion-toggle">
                        <span>ê³µì •ì„± (Bias ì™„í™”)</span>
                         <span class="transform transition-transform duration-300">â–¼</span>
                    </button>
                    <div class="accordion-content hidden p-4 pt-0">
                        <p class="text-slate-600">RAGì˜ ê¸°ë°˜ì´ ë˜ëŠ” í•™ìˆ  ë°ì´í„°ì—ë„ ì¸êµ¬í†µê³„í•™ì  í¸í–¥ì´ ì¡´ì¬í•  ìˆ˜ ìˆìŒì„ ì¸ì§€í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ë‹¨ê³„ì—ì„œ `EquityMedQA`ì™€ ê°™ì€ ë²¤ì¹˜ë§ˆí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ì¸êµ¬ ì§‘ë‹¨ì— ëŒ€í•œ ë‹µë³€ì˜ ì¼ê´€ì„±ê³¼ ì •í™•ì„±ì„ í‰ê°€í•˜ì—¬ í¸í–¥ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>
                 <div class="content-card">
                    <button class="w-full text-left p-4 font-bold text-lg flex justify-between items-center accordion-toggle">
                        <span>ë³´ì•ˆ (HIPAA ì¤€ìˆ˜)</span>
                        <span class="transform transition-transform duration-300">â–¼</span>
                    </button>
                    <div class="accordion-content hidden p-4 pt-0">
                        <ul class="list-disc list-inside text-slate-600 space-y-2">
                           <li>ëª¨ë“  ë³´í˜¸ ëŒ€ìƒ ê±´ê°• ì •ë³´(PHI)ëŠ” ì „ì†¡ ë° ì €ì¥ ì‹œ AES-256 ì´ìƒìœ¼ë¡œ ì•”í˜¸í™”í•©ë‹ˆë‹¤.</li>
                           <li>IAM ì—­í• ì„ í†µí•´ ìµœì†Œ ê¶Œí•œ ì›ì¹™ì— ë”°ë¥¸ ì ‘ê·¼ ì œì–´ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.</li>
                           <li>ëª¨ë“  ë°ì´í„° ì ‘ê·¼ ë° ì‹œìŠ¤í…œ í™œë™ì€ CloudTrail ë“±ì„ í†µí•´ ê°ì‚¬ ê°€ëŠ¥í•˜ë„ë¡ ë¡œê¹…í•©ë‹ˆë‹¤.</li>
                       </ul>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-white py-8">
        <div class="container mx-auto text-center">
            <p>Aegis Health AI Interactive Report</p>
            <p class="text-sm text-slate-400 mt-2">Generated on June 23, 2025</p>
        </div>
    </footer>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- Gemini API Integration ---
            const chatWindow = document.getElementById('chat-window');
            const chatForm = document.getElementById('chat-form');
            const chatInput = document.getElementById('chat-input');
            const loader = document.getElementById('loader-container');
            const actionPlanContainer = document.getElementById('action-plan-container');
            let lastAiResponse = "";

            async function callGemini(prompt) {
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const payload = {
                    contents: [{
                        role: "user",
                        parts: [{ text: prompt }]
                    }]
                };

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API call failed with status: ${response.status}`);
                    }

                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0) {
                        return result.candidates[0].content.parts[0].text;
                    }
                    return "ì£„ì†¡í•©ë‹ˆë‹¤. ë‹µë³€ì„ ìƒì„±í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.";
                } catch (error) {
                    console.error("Gemini API Error:", error);
                    return "ì£„ì†¡í•©ë‹ˆë‹¤. AI ì„œë¹„ìŠ¤ì— ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.";
                }
            }

            chatForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const userInput = chatInput.value.trim();
                if (!userInput) return;
                
                appendMessage(userInput, 'user');
                chatInput.value = '';
                loader.classList.remove('hidden');
                actionPlanContainer.innerHTML = '';

                // Simulate RAG by providing mock context
                const mockContext = `
                    ì—°êµ¬ 1 (Buford et al., 2007, Journal of the International Society of Sports Nutrition): í¬ë ˆì•„í‹´ ëª¨ë…¸í•˜ì´ë“œë ˆì´íŠ¸ëŠ” ë‹¨ê¸°ê°„ ê³ ê°•ë„ ìš´ë™ ëŠ¥ë ¥ í–¥ìƒì— ê°€ì¥ íš¨ê³¼ì ì¸ ë³´ì¶©ì œ ì¤‘ í•˜ë‚˜ì´ë‹¤. í•˜ë£¨ 3-5g ì„­ì·¨ëŠ” ì•ˆì „í•˜ë©°, ê·¼ìœ¡ëŸ‰ê³¼ ê·¼ë ¥ ì¦ê°€ì— ê¸°ì—¬í•  ìˆ˜ ìˆë‹¤. ì¼ë¶€ ì‚¬ìš©ìëŠ” ê²½ë¯¸í•œ ìœ„ì¥ ì¥ì• ë¥¼ ê²½í—˜í•  ìˆ˜ ìˆë‹¤.
                    ì—°êµ¬ 2 (Kreider et al., 2017, Journal of the International Society of Sports Nutrition): ì¥ê¸°ê°„ í¬ë ˆì•„í‹´ ì„­ì·¨ê°€ ì‹ ì¥ ê¸°ëŠ¥ì— í•´ë¡­ë‹¤ëŠ” ì¦ê±°ëŠ” ì—†ë‹¤. ìš´ë™ì„ ìˆ˜ì—ê²Œ í¬ë ˆì•„í‹´ ë³´ì¶©ì€ ê·¼ìœ¡ ì„±ëŠ¥ íšŒë³µì„ ë•ê³  ë¶€ìƒ ìœ„í—˜ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
                `;

                const ragPrompt = `
                    ë‹¹ì‹ ì€ ì˜í•™ ë° ì˜ì–‘í•™ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì•„ë˜ì˜ ê³¼í•™ì  ì—°êµ¬ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‚¬ìš©ìì˜ ì§ˆë¬¸ì— ëŒ€í•´ ëª…í™•í•˜ê³  ì´í•´í•˜ê¸° ì‰½ê²Œ ë‹µë³€í•´ì£¼ì„¸ìš”. ë‹µë³€ì€ ë°˜ë“œì‹œ ì»¨í…ìŠ¤íŠ¸ì— ê·¼ê±°í•´ì•¼ í•˜ë©°, ë§ˆì§€ë§‰ì— ì¶œì²˜ë¥¼ ëª…ì‹œí•´ì£¼ì„¸ìš”.

                    # ì»¨í…ìŠ¤íŠ¸:
                    ${mockContext}

                    # ì‚¬ìš©ì ì§ˆë¬¸:
                    ${userInput}

                    # ë‹µë³€ í˜•ì‹:
                    [ë‹µë³€ ë‚´ìš©]

                    ---
                    **ì¶œì²˜:**
                    * Buford, T. W., et al. (2007).
                    * Kreider, R. B., et al. (2017).
                `;

                const aiResponse = await callGemini(ragPrompt);
                loader.classList.add('hidden');
                appendMessage(aiResponse, 'ai');
                lastAiResponse = aiResponse; // Save for action plan
                showActionPlanButton();
            });

            function appendMessage(message, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `chat-bubble ${sender === 'user' ? 'user-bubble' : 'ai-bubble'}`;
                // Naive markdown to HTML for lists and bold
                let formattedMessage = message.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                formattedMessage = formattedMessage.replace(/(\n\s*\*)/g, '<br>â€¢');
                messageDiv.innerHTML = `<p>${formattedMessage}</p>`;
                chatWindow.appendChild(messageDiv);
                chatWindow.scrollTop = chatWindow.scrollHeight;
            }

            function showActionPlanButton() {
                const button = document.createElement('button');
                button.id = 'action-plan-btn';
                button.className = 'w-full mt-4 bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-4 rounded-full transition duration-300';
                button.innerHTML = 'âœ¨ ë‚˜ë§Œì˜ ì‹¤ì²œ ê³„íš ë§Œë“¤ê¸°';
                actionPlanContainer.appendChild(button);

                button.addEventListener('click', async () => {
                    loader.classList.remove('hidden');
                    button.disabled = true;
                    button.textContent = 'ìƒì„± ì¤‘...';

                    const actionPlanPrompt = `
                        ë‹¹ì‹ ì€ ì „ë¬¸ í—¬ìŠ¤ íŠ¸ë ˆì´ë„ˆì´ì ì˜ì–‘ì‚¬ì…ë‹ˆë‹¤. ì•„ë˜ ëŒ€í™” ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ 'ê¹€í˜„ìš°(35ì„¸, ë‚¨ì„±, ê±´ê°•ê³¼ ê·¼ë ¥ ìš´ë™ì— ê´€ì‹¬ ë§ìŒ)'ë‹˜ì„ ìœ„í•œ ì£¼ê°„ ì‹¤ì²œ ê³„íšì„ êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”. ê³„íšì€ ìš”ì¼ë³„ë¡œ ë‚˜ëˆ„ê³ , ì‹¤ì²œí•˜ê¸° ì‰¬ìš´ í˜•íƒœë¡œ ì œì•ˆí•´ì£¼ì„¸ìš”.

                        # ì´ì „ ëŒ€í™” ë‚´ìš©:
                        ${lastAiResponse}

                        # ì‹¤ì²œ ê³„íš í˜•ì‹:
                        **ê¹€í˜„ìš°ë‹˜ì„ ìœ„í•œ ì£¼ê°„ ê±´ê°• ì‹¤ì²œ ê³„íš**
                        * **ì›”ìš”ì¼:** [êµ¬ì²´ì ì¸ í™œë™ ì œì•ˆ]
                        * **ìˆ˜ìš”ì¼:** [êµ¬ì²´ì ì¸ í™œë™ ì œì•ˆ]
                        * **ê¸ˆìš”ì¼:** [êµ¬ì²´ì ì¸ í™œë™ ì œì•ˆ]
                        * **ì£¼ë§ íŒ:** [ì£¼ë§ì— ì°¸ê³ í•  ë§Œí•œ ì¶”ê°€ íŒ]
                    `;
                    
                    const planResponse = await callGemini(actionPlanPrompt);
                    loader.classList.add('hidden');
                    actionPlanContainer.innerHTML = ''; // Clear button
                    const planCard = document.createElement('div');
                    planCard.className = 'p-4 bg-teal-50 border border-teal-200 rounded-lg mt-4';
                    
                    // Naive markdown to HTML for lists and bold
                    let formattedPlan = planResponse.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                    formattedPlan = formattedPlan.replace(/(\n\s*\*)/g, '<br>â€¢');
                    planCard.innerHTML = formattedPlan;

                    actionPlanContainer.appendChild(planCard);
                });
            }


            // --- Existing Page Logic ---
            const phaseData = {
                '1': {
                    title: 'Phase 1: Local - ë¡œì»¬ ê°œë°œ í™˜ê²½',
                    goal: 'ìµœì†Œ ë¹„ìš©ìœ¼ë¡œ ë‹¨ì¼ ë¨¸ì‹ ì—ì„œ ì „ì²´ ì„œë¹„ìŠ¤ ê¸°ëŠ¥ ê°œë°œ ë° ë””ë²„ê¹…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.',
                    diagramHtml: `
                        <div class="flex flex-col items-center space-y-2 text-sm">
                            <div class="component w-32">ğŸ‘¨â€ğŸ’» ì‚¬ìš©ì</div>
                            <div class="flow-arrow">â†“</div>
                            <div class="sub-system w-full p-3">
                                <h3 class="font-semibold text-center mb-2 text-gray-600 text-xs">Developer's Local Machine (Docker Compose)</h3>
                                <div class="flex justify-around items-center bg-white p-2 rounded-lg border">
                                    <div class="component">Frontend<br>(Gradio)</div>
                                    <div class="flow-arrow">â†”</div>
                                    <div class="component">Backend<br>(FastAPI)</div>
                                    <div class="flow-arrow">â†”</div>
                                    <div class="flex flex-col space-y-1">
                                        <div class="component text-xs">PostgreSQL</div>
                                        <div class="component text-xs">ChromaDB</div>
                                    </div>
                                </div>
                                 <div class="flex justify-center items-center mt-2 space-x-4">
                                    <div class="flow-arrow text-xs">â†“</div>
                                    <div class="flow-arrow text-xs">â†“</div>
                                </div>
                                <div class="flex justify-around mt-1">
                                    <div class="component text-xs">Consensus API</div>
                                    <div class="component text-xs">External LLM API</div>
                                </div>
                            </div>
                        </div>`,
                    stack: ['Docker Compose', 'FastAPI', 'Gradio', 'External LLM API'],
                    code: `
// docker-compose.yml
version: '3.8'
services:
  backend:
    build: ./backend
    ports: ["8000:8000"]
    environment:
      - LLM_API_KEY=\${LLM_API_KEY}
  frontend:
    build: ./frontend
    ports: ["7860:7860"]
    depends_on: [backend]
`
                },
                '2': {
                    title: 'Phase 2: Dev - í´ë¼ìš°ë“œ ê°œë°œ í™˜ê²½',
                    goal: 'ìµœì†Œ ë¹„ìš©ì˜ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ì‹œìŠ¤í…œì„ í†µí•©í•˜ê³  í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤. ë¹„ìš© ìµœì í™”ê°€ ìµœìš°ì„  ìˆœìœ„ì…ë‹ˆë‹¤.',
                    diagramHtml: `
                        <div class="flex flex-col items-center space-y-2 text-sm">
                            <div class="component w-32">ğŸ‘¨â€ğŸ’» ì‚¬ìš©ì</div>
                             <div class="flow-arrow">â†“</div>
                            <div class="sub-system w-full p-3">
                                <h3 class="font-semibold text-center mb-2 text-gray-600 text-xs">AWS Cloud</h3>
                                <div class="component mb-2 text-xs">Application Load Balancer</div>
                                <div class="flow-arrow">â†“</div>
                                <div class="sub-system w-full p-2 bg-blue-50 border-blue-200">
                                     <h4 class="font-semibold text-center text-xs mb-2 text-blue-700">Amazon EKS Cluster</h4>
                                     <div class="grid grid-cols-2 gap-2 text-xs">
                                        <div class="component">Frontend</div>
                                        <div class="component">Backend</div>
                                        <div class="component col-span-2">Triton + vLLM<br>(on GPU Spot Node)</div>
                                     </div>
                                </div>
                                <div class="flow-arrow">â†“</div>
                                <div class="flex justify-around w-full mt-2 text-xs">
                                     <div class="component">AWS RDS<br>(PostgreSQL)</div>
                                     <div class="component">ChromaDB<br>(on EBS)</div>
                                </div>
                            </div>
                        </div>`,
                    stack: ['AWS EKS', 'Spot Instance', 'Terraform', 'Triton (vLLM)'],
                    code: `
# eks_nodes.tf (Terraform)
eks_managed_node_groups = {
  gpu_spot = {
    instance_types = ["g4dn.xlarge"]
    capacity_type  = "SPOT"
    min_size       = 0
    max_size       = 1
  }
}
`
                },
                '3': {
                    title: 'Phase 3: Stage - ìŠ¤í…Œì´ì§• í™˜ê²½',
                    goal: 'í”„ë¡œë•ì…˜ í™˜ê²½ê³¼ ìœ ì‚¬í•œ êµ¬ì„±ì—ì„œ ìµœì¢… ë¦´ë¦¬ìŠ¤ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê³  CI/CD ìë™í™”ë¥¼ ë„ì…í•©ë‹ˆë‹¤.',
                    diagramHtml: `
                        <div class="flex flex-col md:flex-row justify-between items-center space-y-2 md:space-y-0 md:space-x-2 text-sm">
                            <div class="sub-system w-full md:w-1/2 p-2 text-center">
                                <h3 class="font-semibold mb-2 text-gray-600 text-xs">Development & CI</h3>
                                <div class="component text-xs">Developer</div>
                                <div class="flow-arrow text-xs">â†“ Git Push</div>
                                <div class="component text-xs">GitHub</div>
                                <div class="flow-arrow text-xs">â†“ Trigger</div>
                                <div class="component text-xs">GitHub Actions</div>
                                <div class="flex justify-around mt-1">
                                    <div>
                                        <div class="flow-arrow text-xs">â†“ Push</div>
                                        <div class="component text-xs">Amazon ECR</div>
                                    </div>
                                     <div>
                                        <div class="flow-arrow text-xs">â†“ Update</div>
                                        <div class="component text-xs">K8s Manifests</div>
                                    </div>
                                </div>
                            </div>
                            <div class="flow-arrow hidden md:block">â†’</div>
                             <div class="flow-arrow md:hidden">â†“</div>
                            <div class="sub-system w-full md:w-1/2 p-2 text-center">
                                <h3 class="font-semibold mb-2 text-gray-600 text-xs">Staging on AWS (GitOps)</h3>
                                <div class="component text-xs">K8s Manifests</div>
                                <div class="flow-arrow text-xs">â†“ Pull</div>
                                <div class="component text-xs">ArgoCD</div>
                                <div class="flow-arrow text-xs">â†“ Sync</div>
                                 <div class="sub-system p-2 bg-green-50 border-green-200">
                                     <h4 class="font-semibold text-center text-xs text-green-700">EKS Cluster</h4>
                                      <div class="component text-xs">App Services</div>
                                </div>
                            </div>
                        </div>`,
                    stack: ['AWS EKS', 'GitOps (ArgoCD)', 'GitHub Actions'],
                    code: `
# argocd-app.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: aegis-stage
spec:
  source:
    repoURL: 'https://github.com/your/k8s-manifests.git'
    path: helm-charts/aegis-app
  destination:
    namespace: aegis-stage
  syncPolicy:
    automated: { selfHeal: true }
`
                },
                '4': {
                    title: 'Phase 4: Prod - í”„ë¡œë•ì…˜ í™˜ê²½',
                    goal: 'ê³ ê°€ìš©ì„±, í™•ì¥ì„±, ë³´ì•ˆ, ë¹„ìš© íš¨ìœ¨ì„±ì„ ê°–ì¶˜ ì‹¤ì œ ì„œë¹„ìŠ¤ ìš´ì˜ í™˜ê²½ì„ êµ¬ì¶•í•©ë‹ˆë‹¤.',
                    diagramHtml: `
                         <div class="sub-system w-full p-2 text-sm">
                            <h3 class="font-semibold text-center mb-1 text-xs text-gray-600">AWS Cloud (Production)</h3>
                            <div class="component w-32 mx-auto text-xs">ğŸ‘¨â€ğŸ’» ì‚¬ìš©ì</div>
                            <div class="flow-arrow text-center text-xs">â†“</div>
                            <div class="component w-full text-xs">Edge & Security (CloudFront â†’ WAF)</div>
                            <div class="flow-arrow text-center text-xs">â†“</div>
                            <div class="component w-full text-xs">Application Load Balancer</div>
                            <div class="flow-arrow text-center text-xs">â†“</div>
                             <div class="grid grid-cols-3 gap-2 mt-1">
                                <div class="sub-system p-2 bg-purple-50 border-purple-200 col-span-2">
                                    <h4 class="font-semibold text-center text-xs mb-1 text-purple-700">Amazon EKS Cluster</h4>
                                    <div class="component mb-1 text-xs">App Services</div>
                                    <div class="grid grid-cols-2 gap-1 text-xs">
                                        <div class="component">Karpenter</div>
                                        <div class="component">Argo Workflows</div>
                                        <div class="component col-span-2">Observability</div>
                                    </div>
                                </div>
                                <div class="sub-system p-2 bg-yellow-50 border-yellow-200">
                                     <h4 class="font-semibold text-center text-xs mb-1 text-yellow-700">Managed Data</h4>
                                     <div class="space-y-1 text-xs">
                                        <div class="component">RDS</div>
                                        <div class="component">S3</div>
                                        <div class="component">ElastiCache</div>
                                        <div class="component">Vector DB</div>
                                     </div>
                                </div>
                             </div>
                         </div>`,
                    stack: ['Karpenter', 'Prometheus', 'Grafana', 'Argo Workflows', 'HIPAA Compliance'],
                    code: `
# karpenter-provisioner.yaml
apiVersion: karpenter.sh/v1beta1
kind: NodePool
metadata:
  name: default
spec:
  template:
    spec:
      requirements:
        - key: "karpenter.sh/capacity-type"
          operator: In
          values: ["on-demand", "spot"]
`
                }
            };

            const phaseDetailsContainer = document.getElementById('phase-details');
            const phaseButtons = document.querySelectorAll('.phase-button');

            function updatePhaseDetails(phase) {
                const data = phaseData[phase];
                if (!data) return;

                phaseDetailsContainer.innerHTML = `
                    <h3 class="text-2xl font-bold mb-2">${data.title}</h3>
                    <p class="text-slate-600 mb-6">${data.goal}</p>
                    <div class="grid md:grid-cols-2 gap-6 items-start">
                        <div>
                             <h4 class="text-lg font-semibold mb-3">ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨</h4>
                             ${data.diagramHtml}
                        </div>
                        <div class="space-y-4">
                            <div>
                                <h4 class="text-lg font-semibold mb-3">ì£¼ìš” ê¸°ìˆ  ìŠ¤íƒ</h4>
                                <div class="flex flex-wrap gap-2">
                                    ${data.stack.map(tech => `<span class="bg-teal-100 text-teal-800 text-sm font-medium px-2.5 py-0.5 rounded-full">${tech}</span>`).join('')}
                                </div>
                            </div>
                             <div>
                                <h4 class="text-lg font-semibold mb-3">í•µì‹¬ ì½”ë“œ ì˜ˆì‹œ</h4>
                                <pre class="bg-slate-800 text-white p-4 rounded-lg text-xs overflow-x-auto"><code class="language-yaml">${data.code.trim()}</code></pre>
                             </div>
                        </div>
                    </div>
                `;
            }

            phaseButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const phase = button.dataset.phase;
                    phaseButtons.forEach(btn => {
                        btn.classList.remove('active', 'bg-teal-500', 'text-white');
                        btn.classList.add('bg-white');
                    });
                    button.classList.add('active', 'bg-teal-500', 'text-white');
                    button.classList.remove('bg-white');
                    updatePhaseDetails(phase);
                });
            });
            
            updatePhaseDetails('1');

            const btnFrontend = document.getElementById('btn-frontend');
            const btnBackend = document.getElementById('btn-backend');
            const contentFrontend = document.getElementById('content-frontend');
            const contentBackend = document.getElementById('content-backend');

            btnFrontend.addEventListener('click', () => {
                contentFrontend.classList.remove('hidden');
                contentBackend.classList.add('hidden');
                btnFrontend.classList.add('bg-white', 'text-teal-600', 'shadow');
                btnBackend.classList.remove('bg-white', 'text-teal-600', 'shadow');
            });

            btnBackend.addEventListener('click', () => {
                contentBackend.classList.remove('hidden');
                contentFrontend.classList.add('hidden');
                btnBackend.classList.add('bg-white', 'text-teal-600', 'shadow');
                btnFrontend.classList.remove('bg-white', 'text-teal-600', 'shadow');
            });
            
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            const accordionToggles = document.querySelectorAll('.accordion-toggle');
            accordionToggles.forEach(toggle => {
                toggle.addEventListener('click', () => {
                    const content = toggle.nextElementSibling;
                    const icon = toggle.querySelector('span:last-child');
                    content.classList.toggle('hidden');
                    icon.classList.toggle('rotate-180');
                });
            });

            const ctx = document.getElementById('complexityChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Phase 1: Local', 'Phase 2: Dev', 'Phase 3: Stage', 'Phase 4: Prod'],
                    datasets: [{
                        label: 'ë¹„ìš©',
                        data: [1, 3, 5, 8],
                        backgroundColor: 'rgba(20, 184, 166, 0.6)',
                        borderColor: 'rgba(13, 148, 136, 1)',
                        borderWidth: 1
                    }, {
                        label: 'ë³µì¡ë„',
                        data: [2, 4, 7, 9],
                        backgroundColor: 'rgba(71, 85, 105, 0.6)',
                        borderColor: 'rgba(51, 65, 85, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10,
                            title: {
                                display: true,
                                text: 'ìƒëŒ€ì  ìˆ˜ì¤€ (1-10)'
                            }
                        }
                    },
                    plugins: {
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    }
                }
            });

            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-link');

            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 100) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            });
        });
    </script>
</body>
</html>
